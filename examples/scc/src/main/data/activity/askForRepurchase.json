{
   "_id": "activity/askForRepurchase",
   "type": "activity",
   "categories": [
       "supplies-management"
   ],
   "input": 
	{
		"knowledge": 
		[
			{
				"scope": "saf_agent",
				"kind": "resource",
				"attrNames": 
				[
					"model","name"
				]
			},
			{
				"kind": "message",
				"to":{"role":"role/storeManager"},
				"value":"repurchase"
				
			}
		],
		"operator": "OR",
		"operands": 
		[
			{
				"operator": "<=",
				"operand1": 
				{
					"scope":"home",
					"kind": "resource",
					"name":"home.freshener",
					"attributeName":"value"
				},

				"operand2": 
				{
					"scope": "demand",
					"kind":"resource",
					"name":"demand.freshener",
					"attributeName": "level"
				}
			},

			{
				"operator": "<=",
				"operand1": 
				{
					"scope":"home",
					"kind": "resource",
					"name":"home.freshener",
					"attributeName":"value"
				},

				"operand2": 
				{
					"value": "1"
				}
			}
		]
				
		
	},
   "description": "This activity encloses the actions to ask for more resource supplies",
   "actions": [
       {
           "id": "1",
           "name": "transfer",
           "args": [
               {
               		
                   "message": {
                       "org.mp.em4so.model.common.Element": "%i2"
                   },
                   "property": {
                       "org.mp.em4so.model.common.Element": "%i1"
                   }	
               }
           ]
       }
   ],
   "output": 
	[
		
		{
			"name":"%i1",
			"scope":"home",
			"effect": "set"
		}
		
	]
    ,
   "quality": {
   }
}